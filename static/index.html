<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Signage - Dashboard Display</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Navigation Bar -->
        <nav id="navigation" class="nav-bar">
            <div class="nav-content">
                <div class="nav-left">
                    <h1 class="nav-title">Digital Signage</h1>
                    <div class="nav-status">
                        <span id="current-dashboard">Loading...</span>
                        <span id="rotation-status" class="status-indicator"></span>
                    </div>
                </div>
                <div class="nav-right">
                    <div class="nav-controls">
                        <button id="prev-btn" class="nav-btn" title="Previous Dashboard (Left Arrow)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15,18 9,12 15,6"></polyline>
                            </svg>
                        </button>
                        <button id="next-btn" class="nav-btn" title="Next Dashboard (Right Arrow)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"></polyline>
                            </svg>
                        </button>
                        <button id="pause-btn" class="nav-btn" title="Pause/Resume Rotation (Space)">
                            <svg id="pause-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="6" y="4" width="4" height="16"></rect>
                                <rect x="14" y="4" width="4" height="16"></rect>
                            </svg>
                            <svg id="play-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                        </button>
                        <button id="refresh-btn" class="nav-btn" title="Refresh Current Dashboard (R)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23,4 23,10 17,10"></polyline>
                                <polyline points="1,20 1,14 7,14"></polyline>
                                <path d="M20.49,9A9,9,0,0,0,5.64,5.64L1,10m22,4L18.36,18.36A9,9,0,0,1,3.51,15"></path>
                            </svg>
                        </button>
                        <button id="fullscreen-btn" class="nav-btn" title="Toggle Fullscreen (F)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15,3 21,3 21,9"></polyline>
                                <polyline points="9,21 3,21 3,15"></polyline>
                                <line x1="21" y1="3" x2="14" y2="10"></line>
                                <line x1="3" y1="21" x2="10" y2="14"></line>
                            </svg>
                        </button>
                        <a href="/config" class="nav-btn nav-link" title="Configuration">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4,15a1.65,1.65,0,0,0,.33,1.82l.06.06a2,2,0,0,1,0,2.83,2,2,0,0,1-2.83,0l-.06-.06a1.65,1.65,0,0,0-1.82-.33,1.65,1.65,0,0,0-1,1.51V21a2,2,0,0,1-2,2,2,2,0,0,1-2-2V20.51a1.65,1.65,0,0,0-1.08-1.51,1.65,1.65,0,0,0-1.82.33l-.06.06a2,2,0,0,1-2.83,0,2,2,0,0,1,0-2.83l.06-.06a1.65,1.65,0,0,0,.33-1.82,1.65,1.65,0,0,0-1.51-1H3a2,2,0,0,1-2-2,2,2,0,0,1,2-2H3.49a1.65,1.65,0,0,0,1.51-1.08,1.65,1.65,0,0,0-.33-1.82L4.61,4.61a2,2,0,0,1,0-2.83,2,2,0,0,1,2.83,0L7.5,1.84a1.65,1.65,0,0,0,1.82.33,1.65,1.65,0,0,0,1.08-1.51V3a2,2,0,0,1,2-2,2,2,0,0,1,2,2V3.49a1.65,1.65,0,0,0,1.08,1.51,1.65,1.65,0,0,0,1.82-.33l.06-.06a2,2,0,0,1,2.83,0,2,2,0,0,1,0,2.83l-.06.06a1.65,1.65,0,0,0-.33,1.82,1.65,1.65,0,0,0,1.51,1.08H21a2,2,0,0,1,2,2,2,2,0,0,1-2,2H20.51A1.65,1.65,0,0,0,19.4,15Z"></path>
                            </svg>
                        </a>
                    </div>
                    <div class="time-display" id="current-time"></div>
                </div>
            </div>
        </nav>

        <!-- Dashboard Display Area -->
        <main id="dashboard-container" class="dashboard-container">
            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p>Loading dashboards...</p>
            </div>
            
            <div id="error-state" class="error-state" style="display: none;">
                <div class="error-icon">‚ö†Ô∏è</div>
                <h2>No Dashboards Configured</h2>
                <p>Please configure your UptimeKuma and Grafana dashboard URLs.</p>
                <a href="/config" class="error-btn">Go to Configuration</a>
            </div>

            <div id="network-error" class="error-state" style="display: none;">
                <div class="error-icon">üåê</div>
                <h2>Network Connection Error</h2>
                <p id="network-error-message">Unable to connect to dashboard.</p>
                <button id="retry-btn" class="error-btn">Retry Connection</button>
            </div>

            <!-- Dashboard iframes will be dynamically inserted here -->
        </main>

        <!-- Dashboard Progress Indicator -->
        <div id="progress-container" class="progress-container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <div class="progress-dots" id="progress-dots"></div>
        </div>

        <!-- Keyboard Shortcuts Help -->
        <div id="help-overlay" class="help-overlay" style="display: none;">
            <div class="help-content">
                <h3>Keyboard Shortcuts</h3>
                <div class="shortcuts-grid">
                    <div class="shortcut">
                        <kbd>‚Üê</kbd>
                        <span>Previous Dashboard</span>
                    </div>
                    <div class="shortcut">
                        <kbd>‚Üí</kbd>
                        <span>Next Dashboard</span>
                    </div>
                    <div class="shortcut">
                        <kbd>Space</kbd>
                        <span>Pause/Resume Rotation</span>
                    </div>
                    <div class="shortcut">
                        <kbd>R</kbd>
                        <span>Refresh Current</span>
                    </div>
                    <div class="shortcut">
                        <kbd>F</kbd>
                        <span>Toggle Fullscreen</span>
                    </div>
                    <div class="shortcut">
                        <kbd>H</kbd>
                        <span>Show/Hide Help</span>
                    </div>
                    <div class="shortcut">
                        <kbd>N</kbd>
                        <span>Toggle Navigation</span>
                    </div>
                    <div class="shortcut">
                        <kbd>C</kbd>
                        <span>Configuration</span>
                    </div>
                </div>
                <p class="help-footer">Press <kbd>H</kbd> or <kbd>Esc</kbd> to close</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
